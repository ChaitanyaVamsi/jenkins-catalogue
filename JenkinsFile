pipeline{
  agent{
    node{
      label 'agent-1'
    }
  }

  environment{
    COURSE = "Jenkins"
    PROJECT = "roboshop"
    COMPONENT = "catalogue"
  }

  options{
    timeout(time:10, unit: 'MINUTES')
    disableConcurrentBuilds()
  }

  stages{
    stage ('Display Version'){
        steps{
          script{
            def packageJSON = readJSON file: 'package.json'
            appVersion= packageJSON.version
            echo "app version: ${appVersion}"
          }
        }
    }
  }
}